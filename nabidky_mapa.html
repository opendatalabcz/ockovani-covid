<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">

    <link rel="shortcut icon" href="/static/favicon.ico">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>
Mapa nabídek očkování |
COVID očkování</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/static/js/main.js"></script>

    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

    <script src="https://api.mapy.cz/loader.js"></script>
    <script>Loader.load()</script>

    
</head>
<body>


<nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">COVID očkování</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link "
                   href="/mista">Očkovací místa
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/praktici">Praktici
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/nabidky">Nabídky očkování
                </a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle "
                   href="#" id="menu-dropdown-stats" data-toggle="dropdown">Statistiky
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="/statistiky">Souhrnné statistiky</a>
                    <a class="dropdown-item" href="/statistiky_ockovani">Statistiky očkování</a>
                    <a class="dropdown-item" href="/statistiky_srovnani">Srovnání očkovaní &times; neočkovaní</a>
                    <a class="dropdown-item" href="/statistiky_nemocnice">Kapacita nemocnic</a>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/odkazy">Odkazy
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/napoveda">Nápověda
                </a>
            </li>
        </ul>
        <ul class="navbar-nav navbar-right">
            <li class="nav-item">
                <a class="nav-link" href="https://twitter.com/ocko_bot" target="_blank">
                    <i class="fab fa-twitter"></i>
                    Twitter
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://github.com/msusicky/ockovani-covid" target="_blank">
                    <i class="fab fa-github"></i>
                    GitHub
                </a>
            </li>
        </ul>
    </div>
</nav>


<div class="container">
    <div class="row">
        <div class="col">
            <div class="alert alert-info alert-dismissible fade show" role="alert">
                <p class="mb-0">
                    Čas poslední aktualizace: <strong>po 28. 11. 12:38</strong>.
                    <a class="alert-link" href="/napoveda#aktualizace">
                        Jak často jsou data aktualizována?
                    </a>
                </p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>

    
<div class="row">
    <div class="col">
        <h3>Mapa nabídek očkování</h3>
    </div>
</div>

<div class="form-row mb-1">
    <div class="col mb-2">
        <select id="free-vaccines-vaccine" class="custom-select">
            <option value="">Všechny vakcíny</option>
            
            <option value="Novavax">Novavax</option>
            
            <option value="Pfizer">Pfizer</option>
            
            <option value="PfizerBA.1">PfizerBA.1</option>
            
            <option value="PfizerBA.45">PfizerBA.45</option>
            
        </select>
    </div>
    <div class="col-auto mb-2">
        <div class="custom-control custom-switch mr-2" style="display: inline-block">
            <input id="free-vaccines-adults" type="checkbox" class="custom-control-input" checked>
            <label class="custom-control-label" for="free-vaccines-adults">dospělí</label>
        </div>
        <div class="custom-control custom-switch" style="display: inline-block">
            <input id="free-vaccines-children" type="checkbox" class="custom-control-input" checked>
            <label class="custom-control-label" for="free-vaccines-children">děti</label>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div id="free-vaccines-map" style="height:600px;"></div>
    </div>
</div>

</div>

<div class="footer p-3 bg-light mt-4">
    <div class="row align-items-center">
        <div class="col text-center text-lg-left">
            <p class="mb-1">
                Vznik: 16. 01. 2021, <a href="https://opendatalab.cz/" target="_blank">OpenDataLab</a>.
                Data na tomto webu pochází z <a href="https://onemocneni-aktualne.mzcr.cz/api/v2/covid-19"
                                                target="_blank">opendat Ministerstva zdravotnictví ČR</a>
                a od Centrálního řídícího týmu COVID-19 (CŘT).
            </p>
            <p class="mb-1">
                Vydavatel: ČVUT, Fakulta informačních technologií, Praha ve spolupráci s firmou Profinit EU, s.r.o., Praha, 2021.<br />
                Citace: Sušický M., Staněk J. <i>COVID-19 očkování</i> [online]. Praha: ČVUT, Fakulta informačních technologií, 2021 [cit. 2022-11-28]. ISSN 2787-9925. Dostupné z https://ockovani.opendatalab.cz
            </p>
            <p class="mb-0 font-italic">
                Provozovatel neodpovídá za správnost a úplnost zpracovaných dat a informací, ani tato neověřuje a zříká
                se
                zodpovědnosti za veškeré škody a újmy, které by použitím těchto dat mohly vzniknout.
                Pro informace o očkování COVID-19 navštivte web: <a
                    href="https://koronavirus.mzcr.cz/ockovani-proti-covid-19/" target="_blank">Ministerstva
                zdravotnictví
                ČR</a>.
            </p>
        </div>
        <div class="col-lg-auto text-center mt-3 mt-lg-0">
            <a href="https://fit.cvut.cz/" target="_blank">
                <img src="/static/img/FIT_logo.png">
            </a>
            &nbsp;
            <a href="https://profinit.eu/" target="_blank">
                <img src="/static/img/PROFINIT_logo.png">
            </a>
        </div>
    </div>
</div>

<!-- Links for wget -->
<div class="d-none">
    <a href="/404">Error 404</a>
    <a href="/static/geojson/orp-simple.json">ORP GeoJSON</a>
</div>


<script>
    var m = new SMap(JAK.gel("free-vaccines-map"), SMap.Coords(15.4467614, 49.84937455), 7,  {minZoom: 7});
    m.addControl(new SMap.Control.Sync());
    m.addDefaultLayer(SMap.DEF_BASE).enable();
    m.addDefaultControls();

    var markers = [];
    var coords = [];

    
        
        var c = SMap.Coords.fromWGS84(15.02429693737, 50.187575326088);

        var icon = JAK.mel("div");
        var image = JAK.mel("img", {src:SMap.CONFIG.img+"/marker/drop-red.png"});
        icon.appendChild(image);

        var options = {
            title: "MUDr. Tomáš Doležel s.r.o.",
            url: icon
        }
        var marker = new SMap.Marker(c, null, options);

        var card = new SMap.Card();
        card.setSize(450, null);
        card.getHeader().innerHTML = "<strong>MUDr. Tomáš Doležel s.r.o.</strong>";
        
        card.getBody().innerHTML = '<a href="./praktik/24225452000" class="btn btn-primary">Detail nabídky</a>';
        
        card.getFooter().style = "display: none";
        card.getContainer().style.padding = "0";
        marker.decorate(SMap.Marker.Feature.Card, card);

        marker.filter_data = {
            vaccine: 'Novavax',
            adults: true,
            children: false
        }

        coords.push(c);
        markers.push(marker);
        
    
        
        var c = SMap.Coords.fromWGS84(15.02429693737, 50.187575326088);

        var icon = JAK.mel("div");
        var image = JAK.mel("img", {src:SMap.CONFIG.img+"/marker/drop-red.png"});
        icon.appendChild(image);

        var options = {
            title: "MUDr. Tomáš Doležel s.r.o.",
            url: icon
        }
        var marker = new SMap.Marker(c, null, options);

        var card = new SMap.Card();
        card.setSize(450, null);
        card.getHeader().innerHTML = "<strong>MUDr. Tomáš Doležel s.r.o.</strong>";
        
        card.getBody().innerHTML = '<a href="./praktik/24225452000" class="btn btn-primary">Detail nabídky</a>';
        
        card.getFooter().style = "display: none";
        card.getContainer().style.padding = "0";
        marker.decorate(SMap.Marker.Feature.Card, card);

        marker.filter_data = {
            vaccine: 'Pfizer',
            adults: true,
            children: false
        }

        coords.push(c);
        markers.push(marker);
        
    
        
        var c = SMap.Coords.fromWGS84(15.02429693737, 50.187575326088);

        var icon = JAK.mel("div");
        var image = JAK.mel("img", {src:SMap.CONFIG.img+"/marker/drop-red.png"});
        icon.appendChild(image);

        var options = {
            title: "MUDr. Tomáš Doležel s.r.o.",
            url: icon
        }
        var marker = new SMap.Marker(c, null, options);

        var card = new SMap.Card();
        card.setSize(450, null);
        card.getHeader().innerHTML = "<strong>MUDr. Tomáš Doležel s.r.o.</strong>";
        
        card.getBody().innerHTML = '<a href="./praktik/24225452000" class="btn btn-primary">Detail nabídky</a>';
        
        card.getFooter().style = "display: none";
        card.getContainer().style.padding = "0";
        marker.decorate(SMap.Marker.Feature.Card, card);

        marker.filter_data = {
            vaccine: 'PfizerBA.1',
            adults: true,
            children: false
        }

        coords.push(c);
        markers.push(marker);
        
    
        
        var c = SMap.Coords.fromWGS84(15.02429693737, 50.187575326088);

        var icon = JAK.mel("div");
        var image = JAK.mel("img", {src:SMap.CONFIG.img+"/marker/drop-red.png"});
        icon.appendChild(image);

        var options = {
            title: "MUDr. Tomáš Doležel s.r.o.",
            url: icon
        }
        var marker = new SMap.Marker(c, null, options);

        var card = new SMap.Card();
        card.setSize(450, null);
        card.getHeader().innerHTML = "<strong>MUDr. Tomáš Doležel s.r.o.</strong>";
        
        card.getBody().innerHTML = '<a href="./praktik/24225452000" class="btn btn-primary">Detail nabídky</a>';
        
        card.getFooter().style = "display: none";
        card.getContainer().style.padding = "0";
        marker.decorate(SMap.Marker.Feature.Card, card);

        marker.filter_data = {
            vaccine: 'PfizerBA.45',
            adults: true,
            children: false
        }

        coords.push(c);
        markers.push(marker);
        
    

    var layer = new SMap.Layer.Marker();
    m.addLayer(layer);
    layer.enable();

    var cz = m.computeCenterZoom(coords);
    m.setCenterZoom(cz[0], cz[1]);

    function filterMarkers() {
        const vaccineValue = $("#free-vaccines-vaccine").val()
        const adultsValue = $("#free-vaccines-adults")[0].checked;
        const childrenValue = $("#free-vaccines-children")[0].checked;

        layer.removeAll();
        var markers_filtered = [];

        for (var i=0;i<markers.length;i++) {
            marker = markers[i];

            const vaccine = marker.filter_data.vaccine;
            const adults = marker.filter_data.adults;
            const children = marker.filter_data.children;

            if ((!vaccineValue || vaccine === vaccineValue) && ((adultsValue && adults) || (childrenValue && children))) {
                markers_filtered.push(marker);
            }
        }

        layer.addMarker(markers_filtered);
    }

    $(document).ready(function () {
        $("#free-vaccines-vaccine").change(function () {
            filterMarkers();
        });
        $("#free-vaccines-adults").change(function () {
            if (!$("#free-vaccines-adults")[0].checked) {
                $("#free-vaccines-children")[0].checked = true;
            }
            filterMarkers();
        });
        $("#free-vaccines-children").change(function () {
            if (!$("#free-vaccines-children")[0].checked) {
                $("#free-vaccines-adults")[0].checked = true;
            }
            filterMarkers();
        });
        filterMarkers();
    });
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TXSRVP25Y2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-TXSRVP25Y2');

</script>



</body>
</html>